<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js"></script>
    <!-- Firebase App (the core Firebase SDK) -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<!-- Firestore SDK -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
    <script src="src/constants.js"></script>
    <script src="src/errorHandler.js"></script>
    <script src="src/csvProcessor.js"></script>
    <script src="src/playerStatsCalculator.js"></script>
    <script src="src/databaseManager.js"></script>
    <script src="src/undoManager.js"></script>
    <script src="src/uploadInterface.js"></script>
    <script src="src/uploadOrchestrator.js"></script>
    <script src="script.js"></script>
    <title>Poker Leaderboard</title>
</head>
<body>
  
  <div class="Leaderboard-header">
    <div id="brown-logo">
      <img src="images/brownlogo.png">
    </div>
    <div id="header-text">
      <h1>BMT Poker Leaderboard</h1>
    </div> 
    
    <div id="putr-logo">
      <img src="images/opt1-clear.png">
    </div>
    
</div>
<div class="leaderboard-container">
    
    <!-- CSV Upload Interface -->
    <div class="upload-container" id="upload-container">
        <div class="upload-area" id="upload-area">
            <div class="upload-icon">üìÅ</div>
            <div class="upload-text">
                <h3>Upload Game Results</h3>
                <p>Drag and drop a CSV file here or click to select</p>
                <p class="upload-format">Format: ledgerYY_MM_DD.csv</p>
            </div>
            <input type="file" id="file-input" accept=".csv" style="display: none;">
            <button class="upload-button" id="upload-button">Select CSV File</button>
        </div>
        
        <!-- Progress and Status Messages -->
        <div class="upload-status" id="upload-status" style="display: none;">
            <div class="status-message" id="status-message"></div>
            <div class="progress-bar" id="progress-bar" style="display: none;">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
        
        <!-- Undo Button (shown after successful upload) -->
        <div class="undo-container" id="undo-container" style="display: none;">
            <button class="undo-button" id="undo-button">Undo Last Upload</button>
        </div>
    </div>

    <div class="table-container">
        <table class="leaderboard-table" id="leaderboard-table">
            <thead>
              <tr id="table-header">
                <th>Flag</th>
                <th>Name</th>
                <th id="putr-header" onclick="sortTableByPutr()">
                  PUTR <span id="putr-arrow"></span>
                </th>
                <th id="net-header" onclick="sortTableByNet()">
                  Net¬†W/L¬†($) <span id="net-arrow"></span>
                </th>

              </tr>
            </thead>
            <tbody id="table-body">
              <!-- Table data will be inserted here dynamically -->
            </tbody>
          </table>
    </div>
</div>

</body>
</html>
